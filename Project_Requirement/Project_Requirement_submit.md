# StockandCrypto Project Requirements

## A. Title Page / 标题页（不计入正文页数）
Project Title: **StockandCrypto: Multi-Market Forecast-to-Execution Decision System**  
Student: **[Your Name]**  
Student Email: **[your_email@example.com]**  
Sponsor: **[Sponsor Name]**  
Sponsor Email: **[sponsor_email@example.com]**  
Document Date: **February 28, 2026**

## B. Project Overview / 项目背景与概述（1段）
本项目旨在解决投资场景中“预测与执行脱节”的常见问题：当市场（例如标普 500 或个股）出现突然的大涨大跌时，许多用户无法在短时间内理解走势背后的信号含义，也难以把零散的信息转化为可执行的操作决策，从而错过行情或在不确定中做出高风险选择。因此，本项目的重点不在于单纯展示行情，而是提供一个明确、可解释、可复用的决策流程：将市场数据转化为用户能理解的预测结论，并进一步映射为清晰的交易计划与风险控制框架，帮助用户以系统化方式进行分析与决策。我选择该主题的原因是希望完成一个端到端、面向真实使用场景的数据驱动系统，并把“从数据到决策”的全过程落地为一个对实际交易者有价值的工具。

结合当前项目实现，系统已具备多市场数据处理、预测建模与决策输出的基础框架，包含数据接入、特征构建、模型训练、信号生成、回测评估与可视化展示，能够作为本项目从研究原型走向稳定 MVP 的工程基础。换言之，本项目并非从零开始，而是在现有可运行流水线之上，进一步补全“可执行建议 + 风险约束 + 用户记录分享”的产品闭环。

## C. User Requirements / 用户需求（段落叙述）
本项目的最小可行产品（MVP）是一套跨市场的预测与交易决策看板，能够接入实时与历史行情数据，并输出可解释的预测结果与可执行的交易计划。预测输出至少包含方向性判断（例如上涨/下跌倾向及其概率）与价格区间或波动范围估计，同时系统需要把预测结果映射为可操作的计划要素，例如建议入场区间、止损位置、止盈目标与盈亏比，并在界面中明确呈现当前推荐动作状态（做多、做空或观望），以减少用户理解成本并避免“看懂了但不知道怎么做”的断点。MVP 必须至少覆盖三个市场：加密资产、A 股与美股，并提供基础的信号验证与回测指标，使用户能够判断该信号是否具有一定一致性与可用性，而不是随机猜测。系统还应包含一个交易记录/计划笔记模块，用于记录交易想法、执行依据与复盘结论；当用户不需要交易记录时，该模块也可以作为通用笔记使用。为支持协作与交流，系统应允许用户以链接或网页方式分享自己的交易计划或笔记内容，便于他人查看与讨论。

在用户类型方面，普通用户（新手）主要追求“快速结论与可执行性”。代表性用户故事包括：作为新手用户，我希望在打开页面后的几秒内看到“是否可执行”以及对应的下单计划要素（入场、止损、止盈），从而在信息过载时仍能快速做出相对稳健的选择；作为新手用户，我希望系统能用清晰的风险提示与动作状态（做多/做空/观望）降低误操作概率，从而避免因为看不懂形态或指标而做出冲动交易。进阶用户则更关注可比较性、稳定性与筛选效率。代表性用户故事包括：作为进阶用户，我希望看到机会强度、风险调整得分与预测置信度等可量化指标，从而在多个标的之间进行筛选与排序；作为进阶用户，我希望查看基础回测表现与历史命中情况，从而评估该信号在不同市场与不同阶段的稳定性并决定是否采用。MVP 之外的目标包括：更完整的研究与筛选工作台、纸上交易（模拟执行）与自动化记录、预测理由解释与“风控阻断原因”提示等增强模块，并可扩展到按资产类别划分的讨论区或群聊（如外汇、贵金属、加密、股票），为不同偏好的用户提供更匹配的交流场景。本项目不会复用其他课程代码，所有外部组件与数据来源将在文档中明确披露。

结合当前技术栈，MVP 的实现边界可进一步明确为：一是以现有 Streamlit 看板承载核心预测结果与执行建议；二是以现有模型流水线输出方向概率、区间预测与回测统计；三是以独立 Notes 模块承载交易记录、交易计划和分享能力。当前仓库中已存在多市场数据链路与 Notes 子系统雏形，因此用户需求重点在于“统一体验与稳定输出”，而不是单点功能从零开发。

## D. Design Choices / 技术路线与设计选择（多方案对比 + 不宣布最终选择）
本项目可以采用多种实现路线，每种路线在开发效率、可解释性、实时性与可维护性方面各有取舍。数据处理与建模层面，一种方案是使用以数据分析与机器学习为核心的技术生态，优点是能较快完成特征构建、模型训练与结果校准，并更容易产出可解释的预测与规则映射；缺点是在高频实时更新与低延迟计算方面可能需要额外的工程优化。另一种方案是采用更偏向服务端工程的技术栈，优势在于与前端与在线服务更容易深度融合、实时能力更强，但模型开发效率与可用算法范围可能受到限制，并且需要更多工程投入来实现同等的建模与评估能力。

前端与交互层面，可以选择“快速原型型”方案以更快实现 MVP 并验证核心流程，也可以选择“可扩展应用型”方案以获得更强的可定制体验与更清晰的多用户结构；前者开发成本较低但扩展性相对有限，后者在用户体验与可维护性上更强但需要更多的 API 与工程配置。数据存储方面，文件型的可追踪流水线能够满足 MVP 阶段的可复现与治理需求，便于版本化与快速迭代；而关系型数据库更利于多用户协作、权限控制与审计追踪，但会增加数据建模、迁移与运维复杂度。保留多方案分析能够确保在需求变化（例如多用户上线、实时性提升、数据规模扩张）时仍能快速调整实现路线。

外部组件方面，本项目需要依赖外部数据接口获取行情与标的信息，预计外部组件占整体实现的约 10%–20%，核心逻辑（特征工程、预测生成、信号规则、风险控制映射与界面呈现）将由项目自主实现。可能使用的数据源包括：Binance 公共行情接口用于加密市场数据（https://api.binance.com/api/v3/klines），Yahoo Finance 用于美股行情（https://query1.finance.yahoo.com/v8/finance/chart/），以及 Eastmoney 用于 A 股实时报价（https://push2.eastmoney.com/api/qt/stock/get）。这些接口主要提供原始数据与基础字段，本项目将在其基础上完成全部预测与决策映射，并在实现中考虑接口限频、稳定性与数据一致性等风险。

结合当前仓库状态，可补充的可行方案对比是：方案一延续 Python + Streamlit + 机器学习管线，优点是与现有代码一致、开发速度快、实验与回测链路完整；方案二引入更重的前后端分离架构（例如 React + 独立后端 API），优点是多用户协作与前端体验上限更高，但会显著提升工程复杂度；方案三在存储层采用“文件工件 + 本地数据库”与“PostgreSQL/Supabase”并行预研，以便在课程周期内先交付 MVP，同时保留后续扩展到多用户和云部署的路径。

在“免费数据库（线上托管）”的实际选项上，本项目可对比五类方案（免费额度以各官方最新页面为准）：第一类是 Supabase（Postgres + Auth + Storage），其免费层通常已包含约 500MB 级别数据库与配套鉴权/文件能力，优点是对“多用户 + 笔记/交易记录 + 分享链接 + 权限控制”非常匹配，缺点是免费配额在容量和带宽上有上限；第二类是 Neon（Serverless Postgres），优点是纯 Postgres、与 Python/Node 兼容性好、接入简单，缺点是仅提供数据库本体，不包含 Supabase 那种完整 Auth/Storage 套件；第三类是 Cloudflare D1（SQLite 形态 Serverless DB），优点是与 Cloudflare Pages/Workers 可形成低成本甚至全免费链路，缺点是其 SQL 生态与 Postgres 不同，在复杂查询与插件生态上通用性较弱；第四类是 MongoDB Atlas M0，优点是文档模型灵活，缺点是免费层在功能、连接和传输方面限制较明显；第五类是 Turso（LibSQL/SQLite 云端），优点是轻量、对笔记和日志类数据友好，缺点是与 Postgres 的工具链和查询习惯差异较大。

在“免费网站托管”上，也存在两条路径。若保持当前 Dashboard 技术路线，Streamlit Community Cloud 对课程项目最省工程成本，部署路径最短，但通常存在资源上限与空闲休眠机制。若转向更标准的网站化交付，则可选 Cloudflare Pages、Vercel Hobby、Netlify Free 或 GitHub Pages 等静态站托管，再配合函数/后端服务实现动态能力；这一路线前期工程投入更高，但更有利于后续产品化扩展与多角色协作。

综合当前项目阶段与目标，较合理的免费部署组合有两套：第一套是“Streamlit Community Cloud + Supabase（或 Neon）”，该组合最贴合现有 Python/Streamlit 架构，能以最短路径完成上线，并支持用户、交易记录与分享场景；第二套是“Cloudflare Pages + Workers + D1”，该组合更接近完整网站产品架构，适合在后续版本追求更强前后端解耦和统一云端链路时采用，但需要额外的后端改造和接口迁移工作。

## E. Project Timeline / 项目时间线（列表）
1. 2026-03-06：完成 Project Requirements 文档定稿，并交 sponsor 审阅。  
2. 2026-03-20：完成三市场数据与特征流水线稳定化，确保可重复运行。  
3. 2026-04-03：完成模型训练、校准、walk-forward 与基础回测报告。  
4. 2026-04-17：完成预测到执行计划映射与风险提示联调。  
5. 2026-05-01：完成 Notes/Trade Plan/分享模块与主看板联动。  
6. 2026-05-15：完成系统集成、文档收尾与最终展示版本。
